@page "/"
@inject IBassWrapper BassWrapper
@inject IOptions<BassRegistration> BassRegistration
@using System.Runtime.InteropServices
@using BassService.Interfaces
@using BassService.Models.Config
@using Microsoft.Extensions.Options

<div class="welcome">
    <img src="img/logoFrontpage.png" alt="SegnoSharp Logo" />
    <h1 style="font-size: 3em">Welcome to SegnoSharp</h1>
</div>
<div>
    FrameworkDescription: @RuntimeInformation.FrameworkDescription<br />
    OSDescription: @RuntimeInformation.OSDescription<br />
    ProcessArchitecture: @RuntimeInformation.ProcessArchitecture<br />
    OSArchitecture: @RuntimeInformation.OSArchitecture<br />
</div>
<div>
    @if (RuntimeInformation.IsOSPlatform(OSPlatform.FreeBSD))
    {
        <span>FreeBSD</span>
    }
    else if (RuntimeInformation.IsOSPlatform(OSPlatform.Linux))
    {
        <span>Linux</span>
    }
    else if (RuntimeInformation.IsOSPlatform(OSPlatform.OSX))
    {
        <span>OSX</span>
    }
    else if (RuntimeInformation.IsOSPlatform(OSPlatform.Windows))
    {
        <span>Windows</span>
    }
</div>
<div>
    <h2>BASS Information</h2>
    <div>
        <h3>Registration</h3>
        <div>
            Email: @BassRegistration.Value.Email<br />
            Key: @BassRegistration.Value.Key
        </div>
    </div>
    <div>
        <h3>Components</h3>
        <table>
            <thead>
                <tr>
                    <th>Component</th>
                    <th>Version</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>BASS</td>
                    <td>@BassWrapper.GetBassVersion()</td>
                </tr>
                <tr>
                    <td>BASS Enc</td>
                    <td>@BassWrapper.GetBassEncVersion()</td>
                </tr>
                <tr>
                    <td>BASS Enc MP3</td>
                    <td>@BassWrapper.GetBassEncMp3Version()</td>
                </tr>
                <tr>
                    <td>BASS Mixer</td>
                    <td>@BassWrapper.GetBassMixerVersion()</td>
                </tr>
                <tr>
                    <td>BASS.NET</td>
                    <td>@BassWrapper.GetBassNetVersion()</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<div>
    <h2>Fire events</h2>
    <div>
        <button @onclick="FireEvent_PlayNextTrack_Click">Play next track</button>
        <button @onclick="FireEvent_StartStreaming_Click">Start streaming</button>
        <button @onclick="FireEvent_StopStreaming_Click">Stop streaming</button>
    </div>
</div>